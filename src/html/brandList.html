<!doctype html>
<html lang="ko">
@@include('include/head.html', { title : "Color Tailor" });
<body>

<header class="showBack showTitle">
@@include('include/header.html', { title : "브랜드" })
</header>
<main>
@@include("partial/brandList.html", {
	display : "block",
	sticky : '<li class="sticky">이벤트중인 브랜드</li>'
})
@@include("partial/brandList.html", {
	display : "block",
	sticky : '<li class="sticky">신규입점 한 브랜드</li>'
})
@@include("partial/brandList.html", {
	display : "block",
	sticky : '<li class="sticky">기타</li>'
})
</main>

<!-- 브랜드 상세 레이어 -->
@@include("layer/brandDetail.html",)

<!--  이벤트 브랜드 상세 레이어 -->
@@include("layer/eventBrandDetail.html",)

<!-- 이베트 디테일 -->
@@include("layer/eventDetail.html")


<script type="text/javascript">
$("main > .brandList > li").click(function(){
	if (!$(this).find(".event").length) {
		showLayer($("#brandDetailLayer"));
	} else {
		showLayer($("#eventBrandDetailLayer"));
	}
});

// 레이어 닫기
$(".layer header .backArrow").click(function() {
	hideLayer($(this));
});

function showLayer($element, title) {
		var $layer;
		if (typeof($element) == "string") $element = $($element);
		if ($element.hasClass("layer")) {
			$layer = $element;
		} else {
			$layer = $element.parents(".layer");
		}
		if (title) {
			$layer.find("header h1").text(title);
		}
		if ($layer.length) {
			console.log("Layer id : " + $layer.attr("id"));
			$layer.addClass("show");
		} else {
			console.error("Can not find the layer.", $element);
		}
	}

	function hideLayer($element) {
		var $layer;
		if (typeof($element) == "string") $element = $($element);
		if ($element.hasClass("layer")) {
			$layer = $element;
		} else {
			$layer = $element.parents(".layer");
		}
		if ($layer.length) $layer.removeClass("show");
	}
</script>
</body>
</html>
